"use strict";const themeToggle=document.querySelector(".theme-toggle"),currentTheme=localStorage.getItem("theme");null===currentTheme?document.documentElement.classList.remove("light-mode","purple-mode"):"light-mode"===currentTheme?document.documentElement.classList.add("light-mode"):"purple-mode"===currentTheme&&document.documentElement.classList.add("purple-mode");const buttonsContainer=document.querySelector(".calculator__buttons"),prevOperandTextEl=document.querySelector("[data-prev-operand]"),currOperandTextEl=document.querySelector("[data-curr-operand]"),numberBtns=document.querySelectorAll("[data-number]"),operations=document.querySelectorAll("[data-operation]"),deleteBtn=document.querySelector("[data-delete]"),resetBtn=document.querySelector("[data-reset]"),equalBtn=document.querySelector("[data-equal]"),local=navigator.language;class Calculator{constructor(e,t){this.currOperandTextEl=e,this.prevOperandTextEl=t,this.reset()}delete(){this.currOperand=this.currOperand.toString().slice(0,-1)}reset(){this.currOperand="",this.prevOperand="",this.operation=void 0}appendNumber(e){"."===e&&this.currOperand.includes(".")||(this.currOperand+=e)}chooseOperation(e){""!==this.currOperand&&(""!==this.prevOperand&&this.total(),this.operation=e,this.currOperand+=e,this.prevOperand=this.currOperand,this.currOperand="")}total(){let e;const t=parseFloat(this.prevOperand),r=parseFloat(this.currOperand);if(!isNaN(t)&&!isNaN(r)){switch(this.operation){case"+":e=t+r;break;case"-":e=t-r;break;case"x":e=t*r;break;case"/":e=t/r;break;default:return}this.currOperand=e.toLocaleString(local),this.operation=void 0,this.prevOperand=""}}updateDisplay(){this.currOperandTextEl.textContent=this.currOperand,this.prevOperandTextEl.textContent=this.prevOperand}}const calculator=new Calculator(currOperandTextEl,prevOperandTextEl);buttonsContainer.addEventListener("click",(e=>{const t=e.target.closest("[data-number]");t&&(calculator.appendNumber(t.textContent),calculator.updateDisplay())})),operations.forEach((e=>{e.addEventListener("click",(t=>{calculator.chooseOperation(e.textContent),calculator.updateDisplay()}))})),equalBtn.addEventListener("click",(e=>{calculator.total(),calculator.updateDisplay()})),resetBtn.addEventListener("click",(e=>{calculator.reset(),calculator.updateDisplay()})),deleteBtn.addEventListener("click",(e=>{calculator.delete(),calculator.updateDisplay()})),themeToggle.addEventListener("click",(e=>{const t=e.target.closest(".custom-radio-button").querySelector("input");let r;t.classList.contains("default-mode")&&(document.documentElement.classList.remove("light-mode","purple-mode"),r=null),t.classList.contains("light-mode")?(document.documentElement.classList.add("light-mode"),r="light-mode"):document.documentElement.classList.remove("light-mode"),t.classList.contains("purple-mode")?(document.documentElement.classList.add("purple-mode"),r="purple-mode"):document.documentElement.classList.remove("purple-mode"),localStorage.setItem("theme",r)}));
//# sourceMappingURL=script.js.map